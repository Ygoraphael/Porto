package fme;

import java.util.Date;
import javax.swing.JOptionPane;

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CFType_AnoMes
  extends CFType
{
  String v;
  
  CFType_AnoMes() {}
  
  boolean setText(String _t, boolean interact)
  {
    v = _t;
    if (v.length() == 0) {
      return true;
    }
    
    if (_lib.exact_match(_t, "##-####")) {
      String s = _t;
      _t = s.substring(3) + "-" + s.substring(0, 2);
      
      v = _t;
    }
    
    boolean ok = _lib.exact_match(_t, "####-##");
    if (!ok) {
      if (interact) {
        JOptionPane.showMessageDialog(null, "Ano-Mês inválido.", "Erro", 
          0);
      }
      return ok;
    }
    

    int ano = Integer.parseInt(_t.substring(0, 4));
    int mes = Integer.parseInt(_t.substring(5));
    if (mes > 12) {
      if (interact) {
        JOptionPane.showMessageDialog(null, "Mês inválido.", "Erro", 
          0);
      }
      return false;
    }
    return true;
  }
  
  boolean setString(String s) {
    v = s;
    return true;
  }
  
  String getText() {
    return v;
  }
  
  String getString() {
    return v;
  }
  
  static Date parse_as_date(String s)
  {
    if (s == null) {
      return null;
    }
    if (s.length() != 7) {
      return null;
    }
    
    int ano = Integer.parseInt(s.substring(0, 4));
    int mes = Integer.parseInt(s.substring(5));
    Date d = new Date(ano - 1900, mes - 1, 1);
    
    return d;
  }
  
  boolean acceptKey(char c) {
    if (Character.isDigit(c)) {
      return true;
    }
    
    if (c == '-') {
      return true;
    }
    return false;
  }
}
