package fme;

import java.util.Vector;
import javax.swing.JCheckBox;
import javax.swing.JLabel;
import javax.swing.JTextArea;













































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CBRegisto_CritSelB
  extends CBRegisto
{
  Frame_CriteriosSelecao2 P01;
  
  public String getPagina()
  {
    return "CriteriosSelecao2";
  }
  

  int tab_index = 0;
  int limite = 5000;
  
  CBRegisto_CritSelB() {
    P01 = ((Frame_CriteriosSelecao2)fmeApp.Paginas.getPage("CriteriosSelecao2"));
    if (P01 == null) return;
    initialize();
  }
  
  CBRegisto_CritSelB(Frame_CriteriosSelecao2 p, int idx) { P01 = p;
    tab_index = idx;
    initialize();
  }
  
  void initialize() {
    tag = "CritSelB";
    started = true;
    
    CHCampo_Opt opt = new CHCampo_Opt("presenca", this);
    opt.setOptions("S", "N");
    opt.addComponent(P01.getJCheckBox_Presenca_Sim());
    opt.addComponent(P01.getJCheckBox_Presenca_Nao());
    dummy = P01.jCheckBox_Presenca_Clear;
    Campos.add(opt);
    
    CHCampo_Opt opt2 = new CHCampo_Opt("n_mercados", this);
    opt2.setOptions("1", "2");
    opt2.addComponent(P01.getJCheckBox_NumMercExt_2_3());
    opt2.addComponent(P01.getJCheckBox_NumMercExt_mais_de_3());
    dummy = P01.jCheckBox_NumMercExt_Clear;
    Campos.add(opt2);
    
    CHCampo_Opt opt3 = new CHCampo_Opt("n_clientes", this);
    opt3.setOptions("R", "D");
    opt3.addComponent(P01.getJCheckBox_NumClientes_Restrito());
    opt3.addComponent(P01.getJCheckBox_NumClientes_Diversificado());
    dummy = P01.jCheckBox_NumClientes_Clear;
    Campos.add(opt3);
    
    CHCampo_Opt opt4 = new CHCampo_Opt("n_produtos", this);
    opt4.setOptions("I", "S");
    opt4.addComponent(P01.getJCheckBox_NumProdutos_Inferior());
    opt4.addComponent(P01.getJCheckBox_NumProdutos_Superior());
    dummy = P01.jCheckBox_NumProdutos_Clear;
    Campos.add(opt4);
    
    Campos.add(new CHCampo_TextArea("justificacao", P01.jTextArea_Justificacao, this));
  }
  
  void after_open()
  {
    on_update("presenca");
    on_update("justificacao");
  }
  
  void on_update(String tag) {
    if (tag.equals("presenca")) {
      boolean nao = getByNamev.equals("N");
      
      P01.getJCheckBox_NumMercExt_2_3().setEnabled(nao);
      P01.getJCheckBox_NumMercExt_mais_de_3().setEnabled(nao);
      P01.getJCheckBox_NumClientes_Restrito().setEnabled(nao);
      P01.getJCheckBox_NumClientes_Diversificado().setEnabled(nao);
      P01.getJCheckBox_NumProdutos_Inferior().setEnabled(nao);
      P01.getJCheckBox_NumProdutos_Superior().setEnabled(nao);
      
      if (!nao) {
        getByName("n_mercados").setStringValue("");
        getByName("n_clientes").setStringValue("");
        getByName("n_produtos").setStringValue("");
      }
    }
    if (tag.equals("justificacao")) {
      CHCampo chc = getByName("justificacao");
      if ((chc instanceof CHCampo_TextArea)) {
        JTextArea jta = jcomp;
        int n = jta.getText().length();
        P01.jLabel_Count.setText(limite - n + "/" + limite);
      }
    }
  }
  
  CHValid_Grp validar(CHValid_Grp err_list)
  {
    String titulo = "B. Qualificação dos Mercados Internacionais";
    
    if (err_list == null) {
      err_list = new CHValid_Grp(this, titulo);
    }
    if (getByName("presenca").isEmpty()) {
      err_list.add_msg(new CHValid_Msg("presenca", "A empresa com o projeto evidencia uma presença internacional concentrada num único mercado? - %o"));
    } else if (getByName"presenca"v.equals("N")) {
      if (getByName("n_mercados").isEmpty())
        err_list.add_msg(new CHValid_Msg("n_mercados", "Nº de mercados externos explorados - %o"));
      if (getByName("n_clientes").isEmpty())
        err_list.add_msg(new CHValid_Msg("n_clientes", "Nº de clientes internacionais - %o"));
      if (getByName("n_produtos").isEmpty())
        err_list.add_msg(new CHValid_Msg("n_produtos", "Nº de produtos internacionalizados - %o"));
    }
    return err_list;
  }
}
