package fme;

import java.util.Vector;
import javax.swing.JLabel;
import javax.swing.JTextArea;












































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CBRegisto_VendasExtTxt
  extends CBRegisto
{
  Frame_VendasExt P;
  
  public String getPagina()
  {
    return "VendasExt";
  }
  

  int limite = 1500;
  
  CBRegisto_VendasExtTxt() {
    tag = "TxtVendasExt";
    P = ((Frame_VendasExt)fmeApp.Paginas.getPage("VendasExt"));
    if (P == null) return;
    started = true;
    
    Campos.add(new CHCampo_TextArea("texto", P.getJTextArea_Fundam(), this));
    Campos.add(new CHCampo_TextArea("txt_import", P.getJTextArea_TxtImportacoes(), this));
  }
  
  void after_open()
  {
    on_update("texto");
    on_update("txt_import");
  }
  
  void on_update(String tag) {
    CHCampo chc = getByName(tag);
    if ((chc instanceof CHCampo_TextArea)) {
      JTextArea jta = jcomp;
      int n = jta.getText().length();
      if (tag.equals("texto"))
        P.jLabel_Count.setText(limite - n + "/" + limite);
      if (tag.equals("txt_import")) {
        P.jLabel_Count2.setText(limite - n + "/" + limite);
      }
    }
  }
  
  CHValid_Grp validar_1(CHValid_Grp err_list)
  {
    if (err_list == null) {
      err_list = new CHValid_Grp(this, "Fundamentação e caracterização...");
    }
    extract();
    String erro = "Texto demasiado extenso. Por favor, abrevie até " + limite + " caracteres.";
    
    if ((!CBData.VendasExt.isEmpty()) && (getByName("texto").isEmpty())) {
      err_list.add_msg(new CHValid_Msg("texto", "%o"));
    }
    if ((!getByName("texto").isEmpty()) && (getByName"texto"v.length() > limite)) {
      err_list.add_msg(new CHValid_Msg("texto", erro));
    }
    return err_list;
  }
  
  CHValid_Grp validar_2(CHValid_Grp err_list)
  {
    if (err_list == null) {
      err_list = new CHValid_Grp(this, "Substituição das Importações");
    }
    extract();
    String erro = "Texto demasiado extenso. Por favor, abrevie até " + limite + " caracteres.";
    
    if ((!getByName("txt_import").isEmpty()) && (getByName"txt_import"v.length() > limite)) {
      err_list.add_msg(new CHValid_Msg("txt_import", erro));
    }
    return err_list;
  }
}
