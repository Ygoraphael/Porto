package fme;

import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import javax.swing.JTable;
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class TableKeyListener
  extends KeyAdapter
{
  CBTabela t;
  
  TableKeyListener(CBTabela _t)
  {
    t = _t;
  }
  
  public void keyTyped(KeyEvent e) {
    JTable j = t.handler.j;
    if (!j.isEditing()) {
      return;
    }
    int col = j.getEditingColumn();
    
    col = t.handler.cdx[col];
    CFType vld = t.cols[col].vld;
    

    if ((t.handler instanceof CHTabQuadro)) {
      int row = j.getEditingRow();
      if (t.handler).row_vld[row] != null) {
        vld = t.handler).row_vld[row];
      }
    }
    if (vld == null) {
      return;
    }
    
    char c = e.getKeyChar();
    if (c == '\b') {
      return;
    }
    if (c == '') {
      return;
    }
    if (!vld.acceptKey(c)) {
      e.consume();
    }
  }
}
