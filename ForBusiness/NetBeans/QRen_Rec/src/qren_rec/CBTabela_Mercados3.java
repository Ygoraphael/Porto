package fme;

import javax.swing.JScrollPane;
import javax.swing.JTable;













































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CBTabela_Mercados3
  extends CBTabela
{
  Frame_Mercados P12;
  
  public String getPagina()
  {
    return "Mercados";
  }
  

  int tab_index = 0;
  

  CBTabela_Mercados3()
  {
    P12 = ((Frame_Mercados)fmeApp.Paginas.getPage("Mercados"));
    if (P12 == null) return;
    initialize();
  }
  
  CBTabela_Mercados3(Frame_Mercados p, int idx) {
    tab_index = idx;
    P12 = p;
    initialize();
  }
  




  void initialize()
  {
    tag = "Mercados3";
    
    started = true;
    force_xml = true;
    
    cols = new CHTabColModel[4];
    cols[0] = new CHTabColModel("pais", "Mercado (País) (id)", true, true, false, null);
    cols[1] = new CHTabColModel("pais_d", "Mercados Internacionais", false, false, true, null);
    cols[2] = new CHTabColModel("perc_pre", "Ano Pré-Proj.<br>(%)", true, false, true, CFLib.VLD_PERC_0);
    cols[3] = new CHTabColModel("perc_pos", "Ano Pós-Proj.<br>(%)", true, false, true, CFLib.VLD_PERC_0);
    
    init_dados(2);
    

    init_handler(P12.getJTable_Mercados3());
    P12.getJTable_Mercados3().addKeyListener(new TableKeyListener(this));
    handler.width = P12.getJScrollPane_Mercados3().getWidth();
    
    handler.set_col_text(1, 0.49D, "C");
    handler.set_col_text(2, 0.23D, "C");
    handler.set_col_text(3, 0.23D, "C");
  }
  
  void on_update(String colname, int nRow, String v) {
    if (colname.equals("pais_d")) {
      String pais = "";
      if (v.length() > 0) pais = CTabelas.Pais.lookup(1, v, 0);
      setColValue("pais", nRow, pais);
    }
    if (colname.equals("pais")) {
      String pais_d = "";
      if (v.length() > 0) pais_d = CTabelas.Pais.lookup(0, v, 1);
      setColValue("pais_d", nRow, pais_d);
    }
  }
  
  String on_xml(String tag, int row, String v) {
    String s = "";
    if (tag.equals("pais"))
      s = s + _lib.xml_encode("pais_d", getColValue("pais_d", row));
    return s;
  }
}
