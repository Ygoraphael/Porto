package fme;

import java.util.Vector;
import javax.swing.JScrollPane;














































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CBTabela_Tipologia
  extends CBTabela
{
  Frame_Proj_1 P;
  
  public String getPagina()
  {
    return "Proj_1";
  }
  

  CBTabela_Tipologia()
  {
    P = ((Frame_Proj_1)fmeApp.Paginas.getPage("Proj_1"));
    if (P == null) return;
    started = true;
    
    tag = "Tipologia";
    
    force_xml = true;
    
    cols = new CHTabColModel[3];
    cols[0] = new CHTabColModel("tipologia", "Tipologia (id)", true, false, false, null);
    cols[1] = new CHTabColModel("tipologia_d", "Tipologia", true, false, true, null);
    
    cols[2] = new CHTabColModel("select", "", true, true, true, null);
    cols[2].is_check = true;
    
    int n = TipoProjdata_table.size();
    init_dados(n);
    
    P.repaint_panels(n);
    
    init_handler(P.getJTable_Tipologia());
    P.getJTable_Tipologia().addKeyListener(new TableKeyListener(this));
    handler.width = (P.getJScrollPane_Tipologia().getWidth() - 2);
    


    keyCol = 0;
    String[] item = { "", "" };
    for (int i = 0; i < TipoProjdata_table.size(); i++) {
      item = (String[])TipoProjdata_table.elementAt(i);
      ((String[])dados.elementAt(i))[0] = item[0];
      ((String[])dados.elementAt(i))[1] = item[1];
    }
    

    handler.set_col_text(1, 0.9D, null);
    handler.set_col_check(2, 0.1D);
  }
  













  void on_update(String colname, int nRow, String v) {}
  













  void after_open()
  {
    int i = 0;
    while (i < dados.size())
    {
      for (i = 0; i < dados.size(); i++) {
        String tipologia = getColValue("tipologia", i);
        
        if (CTabelas.TipoProj.lookup(0, tipologia, 1) == null)
        {
          del_row_at(i);
          break;
        }
      }
    }
  }
  

  CHValid_Grp validar(CHValid_Grp err_list)
  {
    if (err_list == null) {
      err_list = new CHValid_Grp(this, "Tipologia");
    }
    boolean selected = false;
    for (int i = 0; i < dados.size(); i++) {
      if (getColValue("select", i).equals("S")) selected = true;
    }
    if (!selected) {
      err_list.add_msg(new CHValid_Msg("q_invest", "Tipologia - %o"));
    }
    return err_list;
  }
}
