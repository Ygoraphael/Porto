package fme;

import java.util.Vector;
import javax.swing.JScrollPane;
import javax.swing.JTable;





























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































class CBTabela_DominiosPrioritariosAlentejo
  extends CBTabela
{
  Frame_CriteriosSelecao4 P;
  
  public String getPagina()
  {
    return "CriteriosSelecao4";
  }
  

  CBTabela_DominiosPrioritariosAlentejo()
  {
    P = ((Frame_CriteriosSelecao4)fmeApp.Paginas.getPage("CriteriosSelecao4"));
    if (P == null) return;
    initialize();
  }
  
  void initialize() {
    tag = "DominiosPrioritariosAlentejo";
    started = true;
    force_xml = true;
    
    cols = new CHTabColModel[5];
    cols[0] = new CHTabColModel("n_ordem", "Nº", true, false, true, null);
    cols[1] = new CHTabColModel("dominio", "", true, false, false, null);
    cols[2] = new CHTabColModel("dominio_d", "Domínio Prioritário", false, true, true, null);
    cols[3] = new CHTabColModel("area", "Principal Área de Atuação<br>(preencher se aplicável)", true, true, true, null);
    cols[4] = new CHTabColModel("obs", "Observações", true, true, true, null);
    
    init_dados(7);
    

    init_handler(P.jTable_DominiosAlentejo);
    P.jTable_DominiosAlentejo.addKeyListener(new TableKeyListener(this));
    handler.width = P.jScrollPane_DominiosAlentejo.getWidth();
    
    handler.set_col_text(0, 0.05D, "C");
    handler.set_col_comboS(2, 0.3D, null, CTabelas.ENEIDominioAlentejo, 1, 350);
    handler.set_col_text(3, 0.3D, null);
    handler.set_col_text(4, 0.32D, null);
  }
  
  void on_update(String colname, int nRow, String v) {
    numerar(0);
    if (colname.equals("dominio_d")) {
      String dominio = "";
      if (v.length() > 0)
        dominio = CTabelas.ENEIDominioAlentejo.lookup(1, v, 0);
      setColValue("dominio", nRow, dominio);
    }
    if (colname.equals("dominio")) {
      String dominio_d = "";
      if (v.length() > 0)
        dominio_d = CTabelas.ENEIDominioAlentejo.lookup(0, v, 1);
      setColValue("dominio_d", nRow, dominio_d);
    }
    handler.j.repaint();
  }
  
  String on_xml(String tag, int row, String v) { String s = "";
    if (tag.equals("dominio"))
      s = s + _lib.xml_encode("dominio_d", getColValue("dominio_d", row));
    return s;
  }
  
  CHValid_Grp validar(CHValid_Grp err_list) {
    if (err_list == null) {
      err_list = new CHValid_Grp(this, "D1. Domínios Prioritários - Alentejo");
    }
    if ((isEmpty()) && (_lib.to_double(ParamsgetByName"alentejo"v) > 0.0D)) {
      err_list.add_msg(new CHValid_Msg("indicador", "%o"));
    }
    for (int j = 0; j < dados.size(); j++) {
      String mask = "R-R--";
      TabError[] e = isIncompletAll(j, mask.toString());
      for (int ii = 0; (e != null) && (ii < e.length); ii++)
        err_list.add_msg(new CHValid_Msg("incomplet", e[ii].msg("Linha %L incompleta: %T - %o")));
    }
    return err_list;
  }
}
